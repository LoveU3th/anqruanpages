{
    "name": "safety-learning-platform",
    "version": "1.0.0",
    "description": "企业安全管理交互式学习平台",
    "main": "public/index.html",
    "type": "module",
    "scripts": {
        "dev": "wrangler pages dev public --compatibility-date=2024-01-15",
        "build": "npm run build:css && npm run build:js",
        "build:css": "postcss public/assets/css/main.css -o public/assets/css/main.min.css",
        "build:js": "echo 'JS build completed'",
        "optimize": "npm run build && npm run compress",
        "compress": "echo 'Compression completed'",
        "test": "jest",
        "test:watch": "jest --watch",
        "test:coverage": "jest --coverage",
        "lint": "eslint public/assets/js/**/*.js functions/**/*.js scripts/**/*.js",
        "lint:fix": "eslint public/assets/js/**/*.js functions/**/*.js scripts/**/*.js --fix",
        "format": "prettier --write \"**/*.{js,json,css,html,md}\"",
        "check-status": "node scripts/check-status.js",
        "deploy": "node scripts/deploy.js",
        "migrate": "wrangler d1 execute safety-learning-db --file=./scripts/migrate.sql",
        "seed": "wrangler d1 execute safety-learning-db --file=./scripts/seed.sql",
        "db:reset": "npm run migrate && npm run seed",
        "github:setup": "echo 'Please follow GITHUB_DEPLOY_GUIDE.md for GitHub setup'",
        "validate": "npm run lint && npm run test && npm run build",
        "prepare": "npm run validate",
        "start": "npm run dev",
        "build:production": "NODE_ENV=production npm run build",
        "optimize:images": "imagemin public/assets/images/**/*.{jpg,png,svg} --out-dir=public/assets/images/optimized",
        "optimize:html": "html-minifier --input-dir public --output-dir public --file-ext html --remove-comments --collapse-whitespace --minify-css --minify-js",
        "preview": "wrangler pages dev public --compatibility-date=2024-01-15 --port=8788",
        "prepare-deploy": "node scripts/deploy.js",
        "analyze": "npm run build && bundlesize",
        "lighthouse": "lighthouse http://localhost:3000 --output=html --output-path=./lighthouse-report.html",
        "pwa:validate": "pwa-asset-generator public/assets/images/icons/icon-512x512.png public/assets/images/icons --manifest public/manifest.json",
        "kv:upload": "node scripts/upload-kv-data.js"
    },
    "keywords": [
        "safety",
        "learning",
        "training",
        "pwa",
        "cloudflare-pages",
        "interactive",
        "education"
    ],
    "author": "Safety Learning Team",
    "license": "MIT",
    "repository": {
        "type": "git",
        "url": "https://github.com/your-org/safety-learning-platform.git"
    },
    "bugs": {
        "url": "https://github.com/your-org/safety-learning-platform/issues"
    },
    "homepage": "https://safety-learning-platform.pages.dev",
    "devDependencies": {
        "@cloudflare/workers-types": "^4.20240117.0",
        "@types/jest": "^29.5.11",
        "autoprefixer": "^10.4.16",
        "bundlesize": "^0.18.1",
        "esbuild": "^0.19.11",
        "eslint": "^8.56.0",
        "eslint-config-prettier": "^9.1.0",
        "eslint-plugin-jest": "^27.6.1",
        "html-minifier": "^4.0.0",
        "http-server": "^14.1.1",
        "imagemin": "^8.0.1",
        "imagemin-mozjpeg": "^10.0.0",
        "imagemin-pngquant": "^9.0.2",
        "imagemin-svgo": "^10.0.1",
        "jest": "^29.7.0",
        "jest-environment-jsdom": "^29.7.0",
        "lighthouse": "^11.4.0",
        "postcss": "^8.4.33",
        "postcss-cli": "^11.0.0",
        "postcss-preset-env": "^9.3.0",
        "prettier": "^3.2.4",
        "pwa-asset-generator": "^6.3.1",
        "rimraf": "^5.0.5",
        "wrangler": "^3.25.0"
    },
    "dependencies": {
        "chart.js": "^4.4.1",
        "date-fns": "^3.2.0"
    },
    "browserslist": [
        "> 1%",
        "last 2 versions",
        "not dead",
        "not ie 11"
    ],
    "jest": {
        "testEnvironment": "jsdom",
        "setupFilesAfterEnv": [
            "<rootDir>/tests/setup.js"
        ],
        "testMatch": [
            "<rootDir>/tests/**/*.test.js"
        ],
        "collectCoverageFrom": [
            "public/assets/js/**/*.js",
            "!public/assets/js/**/*.min.js"
        ],
        "coverageThreshold": {
            "global": {
                "branches": 80,
                "functions": 80,
                "lines": 80,
                "statements": 80
            }
        }
    },
    "bundlesize": [
        {
            "path": "public/assets/css/main.min.css",
            "maxSize": "50 kB"
        },
        {
            "path": "public/assets/js/main.min.js",
            "maxSize": "100 kB"
        }
    ],
    "eslintConfig": {
        "env": {
            "browser": true,
            "es2021": true,
            "jest": true
        },
        "extends": [
            "eslint:recommended",
            "prettier"
        ],
        "parserOptions": {
            "ecmaVersion": "latest",
            "sourceType": "module"
        },
        "rules": {
            "no-console": "warn",
            "no-unused-vars": "error",
            "prefer-const": "error",
            "no-var": "error"
        },
        "globals": {
            "SafetyApp": "readonly",
            "AppInitializer": "readonly",
            "Router": "readonly"
        }
    },
    "prettier": {
        "semi": true,
        "singleQuote": true,
        "tabWidth": 2,
        "trailingComma": "es5",
        "printWidth": 80,
        "bracketSpacing": true,
        "arrowParens": "avoid"
    },
    "postcss": {
        "plugins": {
            "autoprefixer": {},
            "postcss-preset-env": {
                "stage": 1,
                "features": {
                    "custom-properties": false
                }
            }
        }
    },
    "engines": {
        "node": ">=18.0.0",
        "npm": ">=9.0.0"
    }
}