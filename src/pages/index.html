<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>安全管理交互页面</title>
    <meta name="description" content="专业的安全管理学习和测试平台，提供互动式安全教育体验">
    <meta name="keywords" content="安全管理,安全教育,安全测试,安全培训">

    <!-- 基础样式 -->
    <link rel="stylesheet" href="../assets/css/main.css">

    <!-- PWA支持 -->
    <link rel="manifest" href="../manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/pwa/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/pwa/icon-16x16.png">
    <link rel="apple-touch-icon" href="../assets/images/pwa/icon-192x192.png">
    <meta name="theme-color" content="#2563eb">
</head>

<body>
    <div id="app">
        <!-- 头部导航 -->
        <header class="header">
            <div class="container">
                <div class="logo">
                    <h1>🛡️ 安全管理平台</h1>
                </div>
                <nav class="nav">
                    <a href="#home" class="nav-link active">首页</a>
                    <a href="#learning" class="nav-link">学习中心</a>
                    <a href="#testing" class="nav-link">测试中心</a>
                    <a href="#progress" class="nav-link">学习进度</a>
                </nav>
            </div>
        </header>

        <!-- 主要内容区域 -->
        <main class="main">
            <div class="container">
                <!-- 欢迎区域 -->
                <section class="hero">
                    <h2>欢迎来到安全管理学习平台</h2>
                    <p>通过互动式学习和测试，提升您的安全意识和管理能力</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="window.location.href='video1.html'">
                            开始学习
                        </button>
                        <button class="btn btn-secondary" onclick="window.location.href='quiz.html'">
                            安全测试
                        </button>
                    </div>
                </section>

                <!-- 功能模块 -->
                <section class="features">
                    <div class="feature-card">
                        <div class="feature-icon">🎥</div>
                        <h3>视频学习</h3>
                        <p>通过专业的安全教育视频，学习正确的操作规范和安全知识</p>
                        <button class="btn btn-outline" onclick="window.location.href='video1.html'">
                            观看视频
                        </button>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">📝</div>
                        <h3>安全测试</h3>
                        <p>通过互动测试检验学习成果，巩固安全知识</p>
                        <a href="#quiz1" class="btn btn-outline">开始测试</a>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <h3>学习进度</h3>
                        <p>实时跟踪学习进度，查看详细的学习报告</p>
                        <a href="#progress" class="btn btn-outline">查看进度</a>
                    </div>
                </section>
            </div>
        </main>

        <!-- 页脚 -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2024 安全管理交互页面. 保留所有权利.</p>
            </div>
        </footer>
    </div>

    <!-- 基础脚本 -->
    <script src="../assets/js/core/app.js"></script>

    <!-- PWA Service Worker 注册 -->
    <script>
        // 注册Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('/sw.js');
                    console.log('✅ Service Worker 注册成功:', registration);

                    // 检查更新
                    registration.addEventListener('updatefound', () => {
                        console.log('🔄 检测到应用更新');
                    });
                } catch (error) {
                    console.log('❌ Service Worker 注册失败:', error);
                }
            });
        }

        // PWA安装提示
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;

            // 可以在这里显示自定义的安装按钮
            console.log('💾 应用可以安装为PWA');
        });

        window.addEventListener('appinstalled', () => {
            console.log('🎉 应用已安装为PWA');
            deferredPrompt = null;
        });
    </script>
</body>

</html>